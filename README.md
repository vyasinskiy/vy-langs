# English Words Learning App

Приложение для изучения английских слов с использованием Node.js, PostgreSQL, Prisma, React и Material-UI.

## Функциональность

- **Изучение слов**: Показ слова на русском языке с примерами использования, ввод ответа на английском
- **Проверка ответов**: Точное, частичное совпадение и подсказки при ошибках
- **Избранное**: Добавление слов в избранное и режим изучения только избранных слов
- **Управление словами**: Добавление, редактирование и удаление слов
- **Статистика**: Отслеживание прогресса обучения
- **Алгоритм выбора**: Слова выбираются по принципу "еще не изученные"

## Технологии

### Backend
- **Node.js** с TypeScript
- **Express.js** для API
- **PostgreSQL** база данных
- **Prisma** ORM
- **CORS** для кросс-доменных запросов

### Frontend
- **React** с TypeScript
- **Material-UI** для интерфейса
- **Axios** для HTTP запросов

## Установка и запуск

### Предварительные требования
- Node.js (версия 16 или выше)
- PostgreSQL
- npm или yarn

### 1. Клонирование и установка зависимостей

```bash
git clone <repository-url>
cd english
npm install
cd client
npm install
cd ..
```

### 2. Настройка базы данных

1. Создайте базу данных PostgreSQL:
```sql
CREATE DATABASE english_words_db;
```

2. Создайте файл `.env` в корневой папке проекта:
```env
DATABASE_URL="postgresql://username:password@localhost:5432/english_words_db"
PORT=5000
```

Замените `username` и `password` на ваши данные для подключения к PostgreSQL.

### 3. Настройка базы данных

```bash
# Генерация Prisma клиента
npm run db:generate

# Применение схемы к базе данных
npm run db:push

# Заполнение базы данных начальными данными
npm run db:seed
```

### 4. Запуск приложения

#### Режим разработки (одновременно сервер и клиент)
```bash
npm run dev
```

#### Отдельный запуск

Сервер:
```bash
npm run server
```

Клиент:
```bash
npm run client
```

### 5. Доступ к приложению

- **Frontend**: http://localhost:3000
- **Backend API**: http://localhost:5000
- **Prisma Studio**: http://localhost:5555 (запуск: `npm run db:studio`)

## Структура проекта

```
english/
├── server/                 # Backend код
│   ├── index.ts           # Основной серверный файл
│   ├── routes/            # API маршруты
│   │   ├── words.ts       # Маршруты для работы со словами
│   │   └── answers.ts     # Маршруты для работы с ответами
│   ├── types/             # TypeScript типы
│   └── seed.ts            # Начальные данные
├── client/                # Frontend код
│   ├── src/
│   │   ├── components/    # React компоненты
│   │   ├── services/      # API сервисы
│   │   └── types/         # TypeScript типы
│   └── package.json
├── prisma/                # Prisma конфигурация
│   └── schema.prisma      # Схема базы данных
├── package.json
└── tsconfig.json
```

## API Endpoints

### Words
- `GET /api/words` - Получить все слова
- `GET /api/words/study` - Получить слово для изучения
- `GET /api/words/favorites` - Получить избранные слова
- `GET /api/words/:id` - Получить слово по ID
- `POST /api/words` - Создать новое слово
- `PUT /api/words/:id` - Обновить слово
- `DELETE /api/words/:id` - Удалить слово
- `PATCH /api/words/:id/favorite` - Переключить избранное

### Answers
- `POST /api/answers/check` - Проверить ответ
- `GET /api/answers/stats` - Получить статистику
- `GET /api/answers/word/:wordId` - Получить ответы для слова

## Функции приложения

### Изучение слов
1. Перейдите на вкладку "Study" или "Favorites"
2. Показывается слово на русском языке с примерами
3. Введите английский перевод в поле ввода
4. Нажмите "Check Answer" для проверки
5. При правильном ответе автоматически переходите к следующему слову

### Управление словами
1. Перейдите на вкладку "Words List"
2. Используйте кнопку "Add Word" для добавления новых слов
3. Нажмите иконку редактирования для изменения слова
4. Нажмите иконку удаления для удаления слова
5. Нажмите иконку сердца для добавления/удаления из избранного

### Статистика
- Общее количество слов
- Изученные слова
- Избранные слова
- Общее количество ответов
- Правильные ответы
- Точность ответов
- Прогресс изучения

## Алгоритм выбора слов

Приложение выбирает слова для изучения по следующему принципу:
1. Слова, на которые еще не дан правильный ответ
2. При включенном режиме "только избранные" - только избранные слова
3. Слова сортируются по дате создания (старые сначала)

## Особенности

- **Частичные ответы**: Если введен неполный ответ, показывается подсказка
- **Расстояние Левенштейна**: Для определения похожих слов при опечатках
- **Автофокус**: Поле ввода автоматически получает фокус
- **Адаптивный дизайн**: Работает на мобильных устройствах
- **TypeScript**: Полная типизация для надежности кода

## Разработка

### Добавление новых функций
1. Обновите схему Prisma при необходимости
2. Добавьте новые маршруты в `server/routes/`
3. Обновите типы в `server/types/` и `client/src/types/`
4. Создайте новые компоненты в `client/src/components/`

### Тестирование
```bash
# Запуск тестов клиента
cd client
npm test

# Проверка типов TypeScript
npm run build
```

## Лицензия

MIT
